2002-11-02  James Youngman <jay@gnu.org>

	* seqstate.cc, seqstate.h, sf-get2.cc, sf-get.cc:
	support for ignored deltas

	* tests/get/excl_ig_2.sh: added new test script

	* tests/get/excl_ig_1.sh: enabled test xg6

	* docs/cssc.texi:
	Added section on included, excluded and ignored deltas.

	* tests/get/middle-fail.sh:
	Tut - use ${admin} not "admin" as a command name - make sure we are
	testing the correct instance!

	* tests/bsd-sccs/sf595594.sh:
	Tut - use ${sccs} not sccs as a command name - make sure we are
	testing the correct instance!

	* delta.cc:
	Indicate the presence of the -p option in the usage message.

	* configure.ac:
	Fixed SF bug 623164: you need to include <ctype.h> to use isdigit().

	* cssc.h:
	SF bug 623164: you need to include <ctype.h> to use isdigit().

	* get.cc: Updated copyright year.

	* autogen.sh: Recurse into subdirectories where appropriate.

	* tests/common/command-names:
	Corrected bug where more than one argument is passed to test (which
	now justifiably complains when you do this).

2002-10-04  James Youngman <jay@gnu.org>

	* auxfiles/CSSC.spec.in:
	Change references to sccs.1 to sccs.1* because RPM v4 compresses all manpages.

2002-09-27  James Youngman <jay@gnu.org>

	* docs/cssc.texi:
	Changed all instances of @url to @uref, except where that would
	produce a broken link.

	* docs/cssc.texi: Updated the update timestamp.

	* docs/cssc.texi:
	Applied changes suggested by Timothy Bedding (SourceForge bug ID
	589542).

2002-09-20  James Youngman <jay@gnu.org>

	* docs/cssc.texi: Updated the "last update" time.

	* docs/cssc.texi: Corrected typo.

	* docs/cssc.texi: Re-ordered some paragraphs for clarity.

	* docs/cssc.texi:
	Explain that the line length limits apply only to lines which will end
	up in the histry file - and that over-length lines already in the
	history file will be correctly coped with by "get".

	* docs/cssc.texi: Corrected cross-reference.

	* docs/cssc.texi: Explain how to figure out which diff command is used.

	* docs/cssc.texi:
	Expanded the discussion of the (lack of) line length limits in CSSC.

2002-08-16  James Youngman <jay@gnu.org>

	* get.cc:
	If we fail to set the mode on the g-file correctly, delete it and propagate the failure information

	* tests/bsd-sccs/driver-basic.sh, tests/common/command-names, get.cc:
	SourceForge bug 595594 - all g-files processed after a failing file are deleted

	* tests/get/middle-fail.sh:
	SourceForge bug 595594 fixed - if we failed to get a previous file, all g-files processed later are deleted even if they were successful

	* tests/bsd-sccs/sf595594.sh: Initial version of test.

2002-07-26  James Youngman <jay@gnu.org>

	* run.cc: Updated copyright year.

	* run.cc:
	Fixed inappropriate boolean inversion on systems where HAVE_FORK is not defined

	* testutils/configure.in, configure.in:
	Removed old configure.in files - replaced by configure.ac

	* testutils/COPYING, testutils/ChangeLog, testutils/INSTALL, testutils/NEWS, testutils/configure.ac, testutils/ekko.c, testutils/lndir.c, testutils/realpwd.cc, testutils/seeker.c, testutils/user.c, testutils/yammer.c, testutils/yes.c, README, configure.ac, run.cc, testutils/AUTHORS:
	Updated configure.in to configure.ac - we can now use autoconf version 2.53

2002-04-07  James Youngman <jay@gnu.org>

	* tests/delta/p-option.sh:
	Some initial tests for the "-p" option of delta.

	* NEWS: New check of link count when opening SCCS file

	* docs/cssc.texi, tests/admin/hardlinks.sh, configure.in, sccsfile.cc:
	It is not allowed to have hard links to an SCCS file (that is, the link count may not be greater than 1).  Violating this rule now results in CSSC refusing to open that SCCS file

	* scripts/rev-freq.sh: Corrected a shell syntax error

2002-04-05  James Youngman <jay@gnu.org>

	* tests/admin/locks.sh, tests/admin/users.sh, tests/binary/auto.sh, tests/binary/seeking.sh, tests/common/need-prt, tests/prt/all-512.sh, tests/prt/default.sh, tests/prt/exists.sh, tests/prt/nodel.sh, tests/prt/reportmr.sh, NEWS, README, docs/cssc.texi, sf-prs.cc:
	Added support for running the test suite against versions of SCCS that lack a prt program

2002-04-04  James Youngman <jay@gnu.org>

	* docs/cssc.texi:
	get -a now has test cases, so we no longer need to indicate that it is untested.

	* get.cc, sccsfile.h, sf-get2.cc: support for the -a option of get

	* sccsfile.cc, quit.h, sccsdate.cc, sf-kw.cc, sf-val.cc, sf-write.cc, admin.cc, quit.cc:
	Added global function 'warning' so that we don't have to issue warnings by calling 'errormsg'

	* tests/get/gg_get_ix.sh:
	Removed redundant comment about tests that used to fail with CSSC (but
	no longer do so).

	* tests/get/optorder.sh: Fixed typo

	* tests/common/test-common:
	minor changes for the formatting of labels at the start of the lines of output of the tests - to preserve whitespace

	* tests/get/a-option.sh: Tests for the "-a" option of "get".

2002-04-03  James Youngman <jay@gnu.org>

	* configure.in:
	Updated the version number to indicate that any version someone checks
	out of CVS is from CVS (we use the suffix CVSDEVEL).

	* configure.in:
	Up-date version number to 0.14alpha.pl0, prior to making the release

	* Makefile.am: Added file myset.h to the distribution

	* testutils/Makefile.am:
	Added some files missing from the distribution (notably mogrify.awk).

	* ChangeLog: updated from log entries on other files

	* docs/cssc.texi: enhancements to the sections on interoperability

	* configure.in:
	Added HAVE_GNU_DIFF, which indicates if the diff command to be used s GNU diff

	* showconfig.cc:
	Show the likely limit on the length of a line for the diff utility being used

	* acconfig.h:
	Added HAVE_GNU_DIFF, which indicates if the diff command to be used s GNU diff

	* environment.cc:
	Show the likely limit on the length of a line for the diff utility being used

	* delta.cc, get.cc, tests/get/errorcases.sh:
	Invalid options produce a return value of 1 (on Solaris 2.6) not 2

	* testutils/compare_gets.sh:
	Do not compare removes deltas - so do not pass -a to prs

2002-04-02  James Youngman <jay@gnu.org>

	* NEWS: Corrected typos.

	* tests/delta/options.sh:
	Unknown option error results in return value of 1, not 2.

	* tests/delta/errorcase.sh, sf-delta.cc:
	A pre-existing d-file is not an error condition

	* seqstate.cc, seqstate.h, sf-get.cc, sf-get2.cc, sf-get3.cc, tests/get/gg_get_ix.sh, tests/get/sf111140.sh:
	Do includes before excludes (except in the case of command-line includes) - fixes bug reported by gerry.green@cle.philips.com

	* tests/get/sf111140_full.txt: test file

	* tests/get/create.sh: Extra checks as we go along.

2002-03-28  James Youngman <jay@gnu.org>

	* NEWS: Updated with the latest info

	* docs/TESTING: added Gerry Green

	* tests/get/gg_get_ix.sh, sccsfile.h, sf-delta.cc, sf-get.cc, sf-get2.cc, sf-get3.cc, sf-prs.cc, Makefile.am:
	Make sure everybody is using sccs_file::prepare_seqstate() in the same way

	* tests/get/gg_get_ix.sh: new test script from Gerry Green

2002-03-26  James Youngman <jay@gnu.org>

	* tests/get/errorcases.sh, docs/tests-todo.txt, get.cc:
	gcov fixes - invalid SIDs for get -i and get -x

	* docs/.cvsignore: Ignore cssc.info-4

	* sccs-cgi/.cvsignore: Ignore Makefile.in.

	* docs/tests-todo.txt, tests/delta/errorcase.sh:
	Added extra 5test cases to increate test coverage

	* sf-delta.cc:
	If the p-file indicates a SID which is not in the SCCS file, indicate
	which SID we have a problem with in the error message we produce.

	* docs/tests-todo.txt: Removed todo items for the tests we've addded.

	* testutils/user.c: Various enhancements for testing "delta".

	* docs/cssc.texi: Comments about authorised user list

2002-03-25  James Youngman <jay@gnu.org>

	* tests/delta/errorcase.sh:
	Extra test cases for the authorised user list.

	* sf-get3.cc: Do not use '!' exclusion for authorised user list

	* sccsfile.h, sf-get3.cc, sf-get2.cc, sf-delta.cc:
	delta should check that the invoking user is allowed to make deltas

	* docs/cssc.texi:
	Made the SCCS file flags section headings reflect the contents better

	* tests/delta/errorcase.sh: initial checkin

	* tests/delta/MRs.sh:
	fixes to the tests - after testing against Solaris 2.6

	* tests/delta/basic.sh:
	Added tests for the no-id-keywords-is-fatal flag

	* testutils/user.c:
	added feature - 'tell me a group of which I am not a member'

	* sccs-cgi/Makefile.am: initial version

	* docs/tests-todo.txt: Removed the todo-items we've already done

	* NEWS: We removed the -Y and -M options of delta

	* Makefile.am: recurse into sccs-cgi also

	* configure.in: generate  sccs-cgi/Makefile in AC_OUTPUT

	* val.cc: Fixed header comment which indicated what the file was for

	* sccsfile.cc:
	Use  v_unknown_feature_warning() instead of  v_errormsg() since the latter is no longer exported from quit.cc

	* my-getopt.cc:
	Produce usage message is the command line exhibits wrong usage of options

	* tests/common/test-common: Added function rename()

	* tests/delta/MRs.sh:
	Extra test - should not be able to check in file without specifying an MR if the v flag is set

	* tests/delta/basic.sh:
	extra tests (deletion of lines, checking of -r option against p-file)

	* tests/delta/n-option.sh:
	remove any test files we will need to control at the start

	* quit.cc, quit.h: Don't export v_errormsg as a global function

2002-03-24  James Youngman <jay@gnu.org>

	* testutils/gcov-util.sh: Put the title in <title>...</title>.

	* testutils/gcov-util.sh:
	Define $NOW (date at which the summary was prepared).

	* testutils/gcov-util.sh:
	Tool for slicing and dicing the results of gcov.

	* docs/tests-todo.txt:
	Added list of tests to be written in tests-todo.txt

	* delta.cc: Removed options -M and -Y (not in normal SCCS anyway)

	* tests/delta/options.sh:
	Added tests for the various command-line options of delta.

	* NEWS: Brought the NEWS fie up to date with the ChangeLog file.

2002-03-23  James Youngman <jay@gnu.org>

	* docs/cssc.texi: Use @option for options, not @samp.

	* configure.in: spell --disable-max-line-length correctly

	* sf-prs.cc:
	Print sequence numbers in correct (reverse) order; don't include ignored deltas in :DI: (for Solaris 2.6 compatibility)

	* docs/cssc.texi:
	Documented val.  Included information about differences between the various SCCS versions

2002-03-22  James Youngman <jay@gnu.org>

	* tests/prs/keywords.sh: Re-enabled all the tests...

	* tests/prs/keywords.sh:
	Added test cases for having more than one SID in the included or
	excluded SID list.

2002-03-21  James Youngman <jay@gnu.org>

	* sf-prs.cc:
	Backed out of the change made for previous revision - they should be
	shown as seq_nos after all...

	* tests/prs/keywords.sh: :Dx: and friends should emit seq_no values.

	* sf-prs.cc:
	For lists of included/excluded deltas, print the SID rather than the seq_no.

	* myset.h, sf-delta.cc:
	Only list each included/excluded delta once in each include/exclude list.

	* tests/prs/keywords.sh: Added tests for more keywords.

2002-03-20  James Youngman <jay@gnu.org>

	* ChangeLog: Brought up to date with new log entries.

2002-03-19  James Youngman <jay@gnu.org>

	* val.cc:
	Various fixes for the value returned in all sorts of validation-faulure cases

	* tests/what/Makefile.am:
	We have a file whatbasic.sh but no keywords.sh

	* tests/common/command-names: added val

	* tests/Makefile.am: New test directory, 'val'

	* tests/sact/sactbasic.sh, tests/val/Makefile.am, tests/val/valbasic.sh, tests/val/y2k.sh:
	reduced lines of untested code to 2083 - tests added for valand sact

	* bsd/sccs.c: Fixed typos causing compilation errors

	* bsd/sccs.c:
	Fixed SourceForge bug 531884, compiler warning on 64-bit systems

	* file.cc:
	While trying to do atomic NFS file locking, sleep for a bit if we fail
	to make the hard link from nfslckNNNN to z.foobar.

	* sf-delta.cc, filediff.cc, filediff.h:
	Fixed SourceForge bug 530969 - FILE* leak in fildiff.cc

	* docs/Platforms:
	Updated following testing on the SourceForge compile farm

	* README: Inform reader that GNU make is probably required.
	Removed the "stop press" which is now old news.

2002-03-18  James Youngman  <jay@gnu.org>

	* tests/what/whatbasic.sh, what.cc:
	Added an extra test (test w22) in whatbasic.sh to cover the whole of the print_what() function in what.cc.

	* tests/Makefile.am: Added test-what.

	* docs/cssc.texi, tests/Makefile.am, tests/what/Makefile.am, NEWS, my-getopt.cc, my-getopt.h, what.cc:
	Added tests for what - and therefore some bugfixes too

	* tests/what/whatbasic.sh:
	On the other hand, this version passes when run against Solaris 2.6...

	* tests/what/whatbasic.sh:
	This version passes for CSSC but has not been checked against SCCS.

	* docs/Platforms:
	Works on Solaris 2.6 and Debian 3.0 as well as GCC version3

	* docs/patches.txt: Corrected a typo

2002-03-17  James Youngman  <jay@gnu.org>

	* tests/common/config-data:
	Include binary file support tests on SunOS.  Note that some tests are
	*still* disabled on SunOS, because they still fail (e.g. the ability
	to automatically revert to binary-mode when reading the initial body
	from stdin).

	* bsd/sccs.c:
	Issue more helpful messages about the unimplemented comb and help commands.

	* bsd/sccs.c: Corrected spelling error in warning message.

	* bsd/sccs.c:
	Since we are not includeing <strings.h> and there is not need to
	depend on it, roll our own rindex() and index() functions from the
	functions provided by <string.h>.

2002-03-16  James Youngman  <jay@gnu.org>

	* tests/prs/body.sh, tests/prs/s_foo_bd_output.txt, tests/prs/sample_foo:
	Test the :BD: keyword of prs

	* bodyio.cc:
	valgrind-detected bug: do keyword checking on the uuencoded version of the data

	* docs/cssc.texi, tests/prs/body.sh: Tests for prs -d:GB:

2002-03-10  James Youngman  <jay@gnu.org>

	* prompt.cc, sccsdate.cc, sccsfile.cc, sccsfile.h, sf-delta.cc, sf-prs.cc:
	valgrind: don't use sccs_date(NULL) - previously we had an uninitialised variable sccs_date.second as a result of using sccs_date::sccs_date(NULL)

2002-03-04  James Youngman  <jay@gnu.org>

	* docs/cssc.texi:
	Added glossary; spelling corrections; updated copyright years

2002-03-03  James Youngman  <jay@gnu.org>

	* tests/sccsdiff/rap.sh:
	Fixed sourceforge bug 489311 (Locale settings cause test failure)

2002-02-25  James Youngman  <jay@gnu.org>

	* tests/Makefile.am, tests/sact/Makefile.am, tests/sact/sf513800.sh, tests/sact/sf513800_1.uue, tests/sact/sf513800_2.uue, sccsdate.cc:
	test for Sourceforge bug sf513800.sh and a fix for the same

2002-02-23  James Youngman  <jay@gnu.org>

	* ChangeLog, ChangeLog.2:
	Moved the changelog entries from ChangeLog into ChangeLog.2.  New
	changeLog entries to go into ChangeLog, and the ChangeLog.1 and
	ChangeLog.2 files contain historical changelogs.

2001-12-04  James Youngman  <jay@gnu.org>

	* delta.cc: Fixed SourceForge bug 489005

2001-12-02  James Youngman  <jay@gnu.org>

	* NEWS, except.h, quit.cc, quit.h, sccsfile.cc, sccsfile.h, tests/prt/all-512.sh, tests/prt/default.sh, tests/prt/nodel.sh:
	Added warning when we see an excluded delta (since we are not certain
	we handle this correctly).  The warnig includes a pointer tot he web
	page explaining what the user should do about this.

2001-12-01  James Youngman  <jay@gnu.org>

	* configure.in:
	bumped version - to avoid confusion with previous release

	* NEWS, bodyio.cc, file.cc, file.h, filediff.cc, get.cc, sf-delta.cc, sf-kw.cc:
	Fixed sourceforge bugs 480136, 481519, 481707, 484278 - all related to setuid operation, and in fact all dupliactes of each other

2001-11-29  James Youngman  <jay@gnu.org>

	* docs/CREDITS, sccs-cgi/sccs.cgi, sccs-cgi/sccs.cgi.text, AUTHORS:
	Added Richard Kettlewell's sccs.cgi script.  Updated AUTHORS and
	CREDITS files appropriately.

	* quit.cc:
	Fixed compilation error ocurring when HAVE_EXCEPTIONS is not defined

2001-11-25  James Youngman  <jay@gnu.org>

	* configure.in:
	Set the language back to C after doing the check for broken printf
	macros in the glibc header files.  (Also set up for a release).

	* get.cc, sf-get2.cc, tests/common/command-names, tests/get/sf479916.sh:
	Fixed sourceforge bug #479916 - get -t problem

	* sccsdiff.sh.in: Corrected a syntax error.

	* NEWS: Fixed SF bug 450900.

	* tests/get/removed-delta.sh: Test case for SourceForge bug 450900

	* delta-table.cc:
	SF bug #450900 - if you try to check out a version for
	editing, and the SID that would ordinary be selected exists
	but is removed, we should indeed use it.

	* ChangeLog: Updated with recent change log entries.

	* Makefile.am, NEWS, configure.in:
	Fixed debian bug #120080 (sccsdiff cannot find get iuis /usr/sccs
	symlink is missing)

	* sccsdiff.sh.in:
	fixed Debian  Bug#120080: sccs sccsdiff doesn't work (sccsdiff assumes /usr/sccs symlink exists)

	* bsd/sccs.c, tests/admin/comment.sh, tests/admin/init-mr.sh, tests/admin/locks.sh, tests/admin/t-option.sh, tests/admin/users.sh, tests/prs/exists.sh, tests/prs/keywords.sh, tests/prt/all-512.sh, tests/prt/all.expected.Z, tests/prt/expected/nodel.-u, tests/prt/expected/nodel.-u-f, tests/prt/expected/nodel.-u-f-t-b, NEWS, configure.in, sf-admin.cc, sf-prs.cc, sf-prt.cc:
	Brought test suite - and code - into line with Solaris 2.6 behaviour; largely changes for formatting of prt/prs output, but also a change to the behaviour of admin -fl


