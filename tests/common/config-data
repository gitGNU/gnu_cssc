# Hey, Emacs!  This is a -*- sh -*- script.

# This script retrieves the config information from CSSC in order to 
# figure out if binary file support is available.  This will allow us
# to avoid the situation where we try to test binary files support when
# it's not configured.

# Common function definitions.
. ../common/command-names
. ../common/real-thing

if $TESTING_CSSC
then
    
    binary_support=`${admin} -V 2>&1  | 
	grep "^Binary file support: " |
	sed -e 's/^.*://' `
    case $binary_support in 
	enabled) binary_support=true  ;;
	*)       binary_support=false ;;
    esac

    max_line_len=`${admin} -V 2>&1         |
	grep "^Maximum body line length: " |
	sed -e 's/^.*://' `

else
    # Not CSSC.
    # For the moment, just guess --- and be conservative.
    binary_support=false
    max_line_len=200
fi

# echo Max line len $max_line_len
# echo Binary support $binary_support
